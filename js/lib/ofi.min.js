"use strict";var objectFitImages=function(){function t(t,e,i){var r="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+(e||1)+"' height='"+(i||0)+"'%3E%3C/svg%3E";g.call(t,"src")!==r&&f.call(t,"src",r)}function e(t,i){t.naturalWidth?i(t):setTimeout(e,100,t,i)}function i(r){var c,a,l=function(t){for(var e,i=getComputedStyle(t).fontFamily,r={};null!==(e=s.exec(i));)r[e[1]]=e[2];return r}(r),d=r[n];if(l["object-fit"]=l["object-fit"]||"fill",!d.img){if("fill"===l["object-fit"])return;if(!d.skipTest&&o&&!l["object-position"])return}if(!d.img){d.img=new Image(r.width,r.height),d.img.srcset=g.call(r,"data-ofi-srcset")||r.srcset,d.img.src=g.call(r,"data-ofi-src")||r.src,f.call(r,"data-ofi-src",r.src),r.srcset&&f.call(r,"data-ofi-srcset",r.srcset),t(r,r.naturalWidth||r.width,r.naturalHeight||r.height),r.srcset&&(r.srcset="");try{c=r,a={get:function(t){return c[n].img[t||"src"]},set:function(t,e){return c[n].img[e||"src"]=t,f.call(c,"data-ofi-"+e,t),i(c),t}},Object.defineProperty(c,"src",a),Object.defineProperty(c,"currentSrc",{get:function(){return a.get("currentSrc")}}),Object.defineProperty(c,"srcset",{get:function(){return a.get("srcset")},set:function(t){return a.set(t,"srcset")}})}catch(r){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}(function(t){if(t.srcset&&!u&&window.picturefill){var e=window.picturefill._;t[e.ns]&&t[e.ns].evaled||e.fillImg(t,{reselect:!0}),t[e.ns].curSrc||(t[e.ns].supported=!1,e.fillImg(t,{reselect:!0})),t.currentSrc=t[e.ns].curSrc||t.src}})(d.img),r.style.backgroundImage='url("'+(d.img.currentSrc||d.img.src).replace(/"/g,'\\"')+'")',r.style.backgroundPosition=l["object-position"]||"center",r.style.backgroundRepeat="no-repeat",r.style.backgroundOrigin="content-box",/scale-down/.test(l["object-fit"])?e(d.img,function(){d.img.naturalWidth>r.width||d.img.naturalHeight>r.height?r.style.backgroundSize="contain":r.style.backgroundSize="auto"}):r.style.backgroundSize=l["object-fit"].replace("none","auto").replace("fill","100% 100%"),e(d.img,function(e){t(r,e.naturalWidth,e.naturalHeight)})}function r(t,e){var s=!d&&!t;if(e=e||{},t=t||"img",a&&!e.skipTest||!l)return!1;"img"===t?t=document.getElementsByTagName("img"):"string"==typeof t?t=document.querySelectorAll(t):"length"in t||(t=[t]);for(var c=0;c<t.length;c++)t[c][n]=t[c][n]||{skipTest:e.skipTest},i(t[c]);s&&(document.body.addEventListener("load",function(t){"IMG"===t.target.tagName&&r(t.target,{skipTest:e.skipTest})},!0),d=!0,t="img"),e.watchMQ&&window.addEventListener("resize",r.bind(null,t,{skipTest:e.skipTest}))}var n="bfred-it:object-fit-images",s=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g,c="undefined"==typeof Image?{style:{"object-position":1}}:new Image,o="object-fit"in c.style,a="object-position"in c.style,l="background-size"in c.style,u="string"==typeof c.currentSrc,g=c.getAttribute,f=c.setAttribute,d=!1;return r.supportsObjectFit=o,r.supportsObjectPosition=a,function(){function t(t,e){return t[n]&&t[n].img&&("src"===e||"srcset"===e)?t[n].img:t}a||(HTMLImageElement.prototype.getAttribute=function(e){return g.call(t(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,i){return f.call(t(this,e),e,String(i))})}(),r}();